<!DOCTYPE HTML>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.2/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.2/dist/js/bootstrap.bundle.min.js"></script>
<style>
    body{
        text-align: center;
    }
    .disappear{
        display: none;
    }
    .appear{
        display: block;
    }
</style>

<script>
    "use strict";
    //https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Client-side_web_APIs/Client-side_storage
    //https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage

    function saveAccount(){
        var username=document.getElementById("username").value
        var password=document.getElementById("password").value
        if (localStorage.getItem(username)==null){
            localStorage.setItem(username, password);
            document.getElementById("mainMessage").innerHTML="You account has been saved."
        }
        else{
            document.getElementById("mainMessage").innerHTML="Username is already in use, choose a different username."
        }
    }

    function signIn(){
        var username=document.getElementById("username").value
        var password=document.getElementById("password").value
        console.log(localStorage.getItem(username))
        if (localStorage.getItem(username)==password){
            deleteSignIn()
        }
        else{
            document.getElementById("mainMessage").innerHTML="Your password and username are incorrect."
        }

    }

    function deleteAccount(){
        var username=document.getElementById("username").value
        var password=document.getElementById("password").value
        if (localStorage.getItem(username)!==null){
            localStorage.removeItem(username)
            document.getElementById("mainMessage").innerHTML="Your account has been deleted."
        }
        else{
            document.getElementById("mainMessage").innerHTML="This is not an accurate username."
        }
    }

    function deleteSignIn(){
        document.getElementById("username").className="disappear"
        document.getElementById("password").className="disappear"
        document.getElementById("deleteAccount").className="disappear"
        document.getElementById("saveAccount").className="disappear"
        document.getElementById("signIn").className="disappear"
    }
</script>
</head>

<body>
    <img src="img/Churro" alt="Churro" height="200" width="300">
    <h1>Please Sign In</h1>
    <div class="row">
        <div class="col-5"></div>
        <div style="text-align: center;" class="col-2 /**form-floating**/"><input type="text" class="form-control" style="text-align: center;" id="username" placeholder="bi"><!--<label for="username">Enter Username</label>--></div>
        <div class="col-5"></div>
    </div>
    <div class="row form-floating">
        <div class="col-5"></div>
        <div class="col-2"><input type="password" class="form-control" style="text-align: center;" id="password" placeholder="Enter Password"></div>
        <div class="col-5"></div>
    </div>
    <input type="button" class="btn btn-primary" value="Sign In" id="signIn" onclick="signIn()">
    <input type="button" class="btn btn-primary" value="Sign Up" id="signUp" onclick="singUp()">
    <div id="mainMessage"></div>
</body>

</html>